<!DOCTYPE html><html><head><title>product.controller.js</title><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><link rel="stylesheet" media="all" href="../../../docco.css"></head><body><div id="container"><div id="background"></div><div id="jump_to">Jump To &hellip;<div id="jump_wrapper"><div id="jump_page"><a href="../../../index.html" class="source"><span class="file_name">README</span></a><a href="../../../Gruntfile.js.html" class="source "><span class="base_path">. / </span><span class="file_name">Gruntfile.js</span></a><a href="../../../client/app/about/about.controller.js.html" class="source "><span class="base_path">client / app / about / </span><span class="file_name">about.controller.js</span></a><a href="../../../client/app/about/about.controller.spec.js.html" class="source "><span class="base_path">client / app / about / </span><span class="file_name">about.controller.spec.js</span></a><a href="../../../client/app/about/about.js.html" class="source "><span class="base_path">client / app / about / </span><span class="file_name">about.js</span></a><a href="../../../client/app/account/account.js.html" class="source "><span class="base_path">client / app / account / </span><span class="file_name">account.js</span></a><a href="../../../client/app/account/login/login.controller.js.html" class="source "><span class="base_path">client / app / account / login / </span><span class="file_name">login.controller.js</span></a><a href="../../../client/app/account/settings/settings.controller.js.html" class="source "><span class="base_path">client / app / account / settings / </span><span class="file_name">settings.controller.js</span></a><a href="../../../client/app/account/signup/signup.controller.js.html" class="source "><span class="base_path">client / app / account / signup / </span><span class="file_name">signup.controller.js</span></a><a href="../../../client/app/admin/admin.controller.js.html" class="source "><span class="base_path">client / app / admin / </span><span class="file_name">admin.controller.js</span></a><a href="../../../client/app/admin/admin.js.html" class="source "><span class="base_path">client / app / admin / </span><span class="file_name">admin.js</span></a><a href="../../../client/app/app.js.html" class="source "><span class="base_path">client / app / </span><span class="file_name">app.js</span></a><a href="../../../client/app/cart/cart.controller.js.html" class="source "><span class="base_path">client / app / cart / </span><span class="file_name">cart.controller.js</span></a><a href="../../../client/app/cart/cart.controller.spec.js.html" class="source "><span class="base_path">client / app / cart / </span><span class="file_name">cart.controller.spec.js</span></a><a href="../../../client/app/cart/cart.factory.js.html" class="source "><span class="base_path">client / app / cart / </span><span class="file_name">cart.factory.js</span></a><a href="../../../client/app/cart/cart.js.html" class="source "><span class="base_path">client / app / cart / </span><span class="file_name">cart.js</span></a><a href="../../../client/app/catalog/catalog.controller.js.html" class="source "><span class="base_path">client / app / catalog / </span><span class="file_name">catalog.controller.js</span></a><a href="../../../client/app/catalog/catalog.controller.spec.js.html" class="source "><span class="base_path">client / app / catalog / </span><span class="file_name">catalog.controller.spec.js</span></a><a href="../../../client/app/catalog/catalog.js.html" class="source "><span class="base_path">client / app / catalog / </span><span class="file_name">catalog.js</span></a><a href="../../../client/app/main/main.controller.js.html" class="source "><span class="base_path">client / app / main / </span><span class="file_name">main.controller.js</span></a><a href="../../../client/app/main/main.controller.spec.js.html" class="source "><span class="base_path">client / app / main / </span><span class="file_name">main.controller.spec.js</span></a><a href="../../../client/app/main/main.js.html" class="source "><span class="base_path">client / app / main / </span><span class="file_name">main.js</span></a><a href="../../../client/app/product/product.controller.js.html" class="source "><span class="base_path">client / app / product / </span><span class="file_name">product.controller.js</span></a><a href="../../../client/app/product/product.controller.spec.js.html" class="source "><span class="base_path">client / app / product / </span><span class="file_name">product.controller.spec.js</span></a><a href="../../../client/app/product/product.js.html" class="source "><span class="base_path">client / app / product / </span><span class="file_name">product.js</span></a><a href="../../../client/app/vendor/vendor.controller.js.html" class="source "><span class="base_path">client / app / vendor / </span><span class="file_name">vendor.controller.js</span></a><a href="../../../client/app/vendor/vendor.controller.spec.js.html" class="source "><span class="base_path">client / app / vendor / </span><span class="file_name">vendor.controller.spec.js</span></a><a href="../../../client/app/vendor/vendor.js.html" class="source "><span class="base_path">client / app / vendor / </span><span class="file_name">vendor.js</span></a><a href="../../../client/components/auth/auth.service.js.html" class="source "><span class="base_path">client / components / auth / </span><span class="file_name">auth.service.js</span></a><a href="../../../client/components/auth/user.service.js.html" class="source "><span class="base_path">client / components / auth / </span><span class="file_name">user.service.js</span></a><a href="../../../client/components/auth/vendor/vendor.service.js.html" class="source "><span class="base_path">client / components / auth / vendor / </span><span class="file_name">vendor.service.js</span></a><a href="../../../client/components/auth/vendor/vendor.service.spec.js.html" class="source "><span class="base_path">client / components / auth / vendor / </span><span class="file_name">vendor.service.spec.js</span></a><a href="../../../client/components/modal/modal.service.js.html" class="source "><span class="base_path">client / components / modal / </span><span class="file_name">modal.service.js</span></a><a href="../../../client/components/mongoose-error/mongoose-error.directive.js.html" class="source "><span class="base_path">client / components / mongoose-error / </span><span class="file_name">mongoose-error.directive.js</span></a><a href="../../../client/components/navbar/navbar.controller.js.html" class="source "><span class="base_path">client / components / navbar / </span><span class="file_name">navbar.controller.js</span></a><a href="../../../client/components/socket/socket.io.js.html" class="source "><span class="base_path">client / components / socket / </span><span class="file_name">socket.io.js</span></a><a href="../../../client/components/socket/socket.mock.js.html" class="source "><span class="base_path">client / components / socket / </span><span class="file_name">socket.mock.js</span></a><a href="../../../client/components/socket/socket.service.js.html" class="source "><span class="base_path">client / components / socket / </span><span class="file_name">socket.service.js</span></a><a href="../../../karma.conf.js.html" class="source "><span class="base_path">. / </span><span class="file_name">karma.conf.js</span></a><a href="../../../protractor.conf.js.html" class="source "><span class="base_path">. / </span><span class="file_name">protractor.conf.js</span></a><a href="../../../server/api/amazon/index.js.html" class="source "><span class="base_path">server / api / amazon / </span><span class="file_name">index.js</span></a><a href="../../../server/api/amazon/product.controller.js.html" class="source "><span class="base_path">server / api / amazon / </span><span class="file_name">product.controller.js</span></a><a href="../../../server/api/amazon/product.model.js.html" class="source "><span class="base_path">server / api / amazon / </span><span class="file_name">product.model.js</span></a><a href="../../../server/api/amazon/product.socket.js.html" class="source "><span class="base_path">server / api / amazon / </span><span class="file_name">product.socket.js</span></a><a href="../../../server/api/amazon/product.spec.js.html" class="source "><span class="base_path">server / api / amazon / </span><span class="file_name">product.spec.js</span></a><a href="../../../server/api/amazonCart/index.js.html" class="source "><span class="base_path">server / api / amazonCart / </span><span class="file_name">index.js</span></a><a href="../../../server/api/amazonCart/product.controller.js.html" class="source selected"><span class="base_path">server / api / amazonCart / </span><span class="file_name">product.controller.js</span></a><a href="../../../server/api/amazonCart/product.model.js.html" class="source "><span class="base_path">server / api / amazonCart / </span><span class="file_name">product.model.js</span></a><a href="../../../server/api/amazonCart/product.socket.js.html" class="source "><span class="base_path">server / api / amazonCart / </span><span class="file_name">product.socket.js</span></a><a href="../../../server/api/amazonCart/product.spec.js.html" class="source "><span class="base_path">server / api / amazonCart / </span><span class="file_name">product.spec.js</span></a><a href="../../../server/api/buyer/buyer.controller.js.html" class="source "><span class="base_path">server / api / buyer / </span><span class="file_name">buyer.controller.js</span></a><a href="../../../server/api/buyer/buyer.model.js.html" class="source "><span class="base_path">server / api / buyer / </span><span class="file_name">buyer.model.js</span></a><a href="../../../server/api/buyer/buyer.model.spec.js.html" class="source "><span class="base_path">server / api / buyer / </span><span class="file_name">buyer.model.spec.js</span></a><a href="../../../server/api/buyer/index.js.html" class="source "><span class="base_path">server / api / buyer / </span><span class="file_name">index.js</span></a><a href="../../../server/api/cart/cart.controller.js.html" class="source "><span class="base_path">server / api / cart / </span><span class="file_name">cart.controller.js</span></a><a href="../../../server/api/cart/cart.model.js.html" class="source "><span class="base_path">server / api / cart / </span><span class="file_name">cart.model.js</span></a><a href="../../../server/api/cart/cart.socket.js.html" class="source "><span class="base_path">server / api / cart / </span><span class="file_name">cart.socket.js</span></a><a href="../../../server/api/cart/cart.spec.js.html" class="source "><span class="base_path">server / api / cart / </span><span class="file_name">cart.spec.js</span></a><a href="../../../server/api/cart/index.js.html" class="source "><span class="base_path">server / api / cart / </span><span class="file_name">index.js</span></a><a href="../../../server/api/product/index.js.html" class="source "><span class="base_path">server / api / product / </span><span class="file_name">index.js</span></a><a href="../../../server/api/product/product.controller.js.html" class="source "><span class="base_path">server / api / product / </span><span class="file_name">product.controller.js</span></a><a href="../../../server/api/product/product.model.js.html" class="source "><span class="base_path">server / api / product / </span><span class="file_name">product.model.js</span></a><a href="../../../server/api/product/product.socket.js.html" class="source "><span class="base_path">server / api / product / </span><span class="file_name">product.socket.js</span></a><a href="../../../server/api/product/product.spec.js.html" class="source "><span class="base_path">server / api / product / </span><span class="file_name">product.spec.js</span></a><a href="../../../server/api/showroom/index.js.html" class="source "><span class="base_path">server / api / showroom / </span><span class="file_name">index.js</span></a><a href="../../../server/api/showroom/showroom.controller.js.html" class="source "><span class="base_path">server / api / showroom / </span><span class="file_name">showroom.controller.js</span></a><a href="../../../server/api/showroom/showroom.model.js.html" class="source "><span class="base_path">server / api / showroom / </span><span class="file_name">showroom.model.js</span></a><a href="../../../server/api/showroom/showroom.socket.js.html" class="source "><span class="base_path">server / api / showroom / </span><span class="file_name">showroom.socket.js</span></a><a href="../../../server/api/showroom/showroom.spec.js.html" class="source "><span class="base_path">server / api / showroom / </span><span class="file_name">showroom.spec.js</span></a><a href="../../../server/api/thing/index.js.html" class="source "><span class="base_path">server / api / thing / </span><span class="file_name">index.js</span></a><a href="../../../server/api/thing/thing.controller.js.html" class="source "><span class="base_path">server / api / thing / </span><span class="file_name">thing.controller.js</span></a><a href="../../../server/api/thing/thing.model.js.html" class="source "><span class="base_path">server / api / thing / </span><span class="file_name">thing.model.js</span></a><a href="../../../server/api/thing/thing.socket.js.html" class="source "><span class="base_path">server / api / thing / </span><span class="file_name">thing.socket.js</span></a><a href="../../../server/api/thing/thing.spec.js.html" class="source "><span class="base_path">server / api / thing / </span><span class="file_name">thing.spec.js</span></a><a href="../../../server/api/user/index.js.html" class="source "><span class="base_path">server / api / user / </span><span class="file_name">index.js</span></a><a href="../../../server/api/user/user.controller.js.html" class="source "><span class="base_path">server / api / user / </span><span class="file_name">user.controller.js</span></a><a href="../../../server/api/user/user.model.js.html" class="source "><span class="base_path">server / api / user / </span><span class="file_name">user.model.js</span></a><a href="../../../server/api/user/user.model.spec.js.html" class="source "><span class="base_path">server / api / user / </span><span class="file_name">user.model.spec.js</span></a><a href="../../../server/api/vendor/index.js.html" class="source "><span class="base_path">server / api / vendor / </span><span class="file_name">index.js</span></a><a href="../../../server/api/vendor/vendor.controller.js.html" class="source "><span class="base_path">server / api / vendor / </span><span class="file_name">vendor.controller.js</span></a><a href="../../../server/api/vendor/vendor.model.js.html" class="source "><span class="base_path">server / api / vendor / </span><span class="file_name">vendor.model.js</span></a><a href="../../../server/api/vendor/vendor.socket.js.html" class="source "><span class="base_path">server / api / vendor / </span><span class="file_name">vendor.socket.js</span></a><a href="../../../server/api/vendor/vendor.spec.js.html" class="source "><span class="base_path">server / api / vendor / </span><span class="file_name">vendor.spec.js</span></a><a href="../../../server/app.js.html" class="source "><span class="base_path">server / </span><span class="file_name">app.js</span></a><a href="../../../server/auth/auth.service.js.html" class="source "><span class="base_path">server / auth / </span><span class="file_name">auth.service.js</span></a><a href="../../../server/auth/facebook/index.js.html" class="source "><span class="base_path">server / auth / facebook / </span><span class="file_name">index.js</span></a><a href="../../../server/auth/facebook/passport.js.html" class="source "><span class="base_path">server / auth / facebook / </span><span class="file_name">passport.js</span></a><a href="../../../server/auth/google/index.js.html" class="source "><span class="base_path">server / auth / google / </span><span class="file_name">index.js</span></a><a href="../../../server/auth/google/passport.js.html" class="source "><span class="base_path">server / auth / google / </span><span class="file_name">passport.js</span></a><a href="../../../server/auth/index.js.html" class="source "><span class="base_path">server / auth / </span><span class="file_name">index.js</span></a><a href="../../../server/auth/local/index.js.html" class="source "><span class="base_path">server / auth / local / </span><span class="file_name">index.js</span></a><a href="../../../server/auth/local/passport.js.html" class="source "><span class="base_path">server / auth / local / </span><span class="file_name">passport.js</span></a><a href="../../../server/auth/twitter/index.js.html" class="source "><span class="base_path">server / auth / twitter / </span><span class="file_name">index.js</span></a><a href="../../../server/auth/twitter/passport.js.html" class="source "><span class="base_path">server / auth / twitter / </span><span class="file_name">passport.js</span></a><a href="../../../server/components/errors/index.js.html" class="source "><span class="base_path">server / components / errors / </span><span class="file_name">index.js</span></a><a href="../../../server/config/environment/development.js.html" class="source "><span class="base_path">server / config / environment / </span><span class="file_name">development.js</span></a><a href="../../../server/config/environment/index.js.html" class="source "><span class="base_path">server / config / environment / </span><span class="file_name">index.js</span></a><a href="../../../server/config/environment/production.js.html" class="source "><span class="base_path">server / config / environment / </span><span class="file_name">production.js</span></a><a href="../../../server/config/environment/test.js.html" class="source "><span class="base_path">server / config / environment / </span><span class="file_name">test.js</span></a><a href="../../../server/config/express.js.html" class="source "><span class="base_path">server / config / </span><span class="file_name">express.js</span></a><a href="../../../server/config/local.env.js.html" class="source "><span class="base_path">server / config / </span><span class="file_name">local.env.js</span></a><a href="../../../server/config/seed.js.html" class="source "><span class="base_path">server / config / </span><span class="file_name">seed.js</span></a><a href="../../../server/config/socketio.js.html" class="source "><span class="base_path">server / config / </span><span class="file_name">socketio.js</span></a><a href="../../../server/routes.js.html" class="source "><span class="base_path">server / </span><span class="file_name">routes.js</span></a><a href="../../../server.js.html" class="source "><span class="base_path">. / </span><span class="file_name">server.js</span></a></div></div></div><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>product.controller.js</h1><div class="filepath">server/api/amazonCart/</div></th><th class="code"></th></tr></thead><tbody><tr id="section-1"><td class="docs"><div class="pilwrap"><a href="#section-1" class="pilcrow">&#182;</a></div>
</td><td class="code"><div class="highlight"><pre><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">passport</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;passport&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../../config/environment&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;jsonwebtoken&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">OperationHelper</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;apac&#39;</span><span class="p">).</span><span class="nx">OperationHelper</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">User</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../user/user.model&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">userController</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../user/user.controller&#39;</span><span class="p">);</span>


<span class="kd">var</span> <span class="nx">validationError</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">(</span><span class="mi">422</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">createCart</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">opHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OperationHelper</span><span class="p">({</span>
    <span class="nx">awsId</span><span class="o">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">amazon</span><span class="p">.</span><span class="nx">clientID</span><span class="p">,</span>
    <span class="nx">awsSecret</span><span class="o">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">amazon</span><span class="p">.</span><span class="nx">clientSecret</span><span class="p">,</span>
    <span class="nx">assocId</span><span class="o">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">amazon</span><span class="p">.</span><span class="nx">clientAccount</span>
  <span class="p">});</span>
  <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">();</span>
  <span class="nx">opHelper</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">&#39;CartCreate&#39;</span><span class="p">,</span> <span class="p">{</span>
      <span class="s1">&#39;Item.1.ASIN&#39;</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
      <span class="s1">&#39;Item.1.Quantity&#39;</span><span class="o">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">_results</span> <span class="o">=</span> <span class="p">[];</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">request</span> <span class="o">&amp;&amp;</span> <span class="nx">results</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">Errors</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="s1">&#39;Something went wrong! Here is a snippet: &#39;</span> <span class="o">+</span> <span class="nx">results</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">Errors</span><span class="p">));</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">CartCreateResponse</span> <span class="o">&amp;&amp;</span> <span class="nx">results</span><span class="p">.</span><span class="nx">CartCreateResponse</span><span class="p">.</span><span class="nx">Cart</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">cart</span> <span class="o">=</span> <span class="nx">results</span><span class="p">.</span><span class="nx">CartCreateResponse</span><span class="p">.</span><span class="nx">Cart</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">;</span>
          <span class="nx">user</span><span class="p">.</span><span class="nx">cart</span> <span class="o">=</span> <span class="nx">cart</span><span class="p">;</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">user</span><span class="p">.</span><span class="nx">cart</span><span class="p">);</span>
          <span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span> <span class="o">=</span> <span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span> <span class="o">||</span> <span class="p">{};</span>
          <span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span><span class="p">[</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span> <span class="o">=</span> <span class="nx">cart</span><span class="p">.</span><span class="nx">CartItems</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">CartItem</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">CartItemId</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
          <span class="nx">user</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">err</span><span class="p">)</span> <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">cart</span><span class="p">));</span>
          <span class="p">});</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span><span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">cart</span><span class="p">));}</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">results</span><span class="p">);</span>
        <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="s1">&#39;Something went wrong!&#39;</span><span class="p">)</span>
      <span class="p">}</span>     
  <span class="p">});</span>
<span class="p">};</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">modifyCart</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">opHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OperationHelper</span><span class="p">({</span>
    <span class="nx">awsId</span><span class="o">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">amazon</span><span class="p">.</span><span class="nx">clientID</span><span class="p">,</span>
    <span class="nx">awsSecret</span><span class="o">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">amazon</span><span class="p">.</span><span class="nx">clientSecret</span><span class="p">,</span>
    <span class="nx">assocId</span><span class="o">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">amazon</span><span class="p">.</span><span class="nx">clientAccount</span>
  <span class="p">});</span>
  <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">();</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">cart</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">cart</span> <span class="o">||</span> <span class="p">{}</span>
  <span class="p">};</span> <span class="c1">// This is needed because of schema initialization</span></pre></div></td></tr><tr id="section-2"><td class="docs"><div class="pilwrap"><a href="#section-2" class="pilcrow">&#182;</a></div><p>Check to see if the id is a stored ASIN</p>
</td><td class="code"><div class="highlight"><pre>  <span class="k">if</span> <span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span> <span class="o">&amp;&amp;</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">cart</span> <span class="o">&amp;&amp;</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">cart</span><span class="p">).</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span> <span class="o">&amp;&amp;</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span><span class="p">[</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">])</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span><span class="p">[</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">],</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Quantity</span><span class="p">);</span></pre></div></td></tr><tr id="section-3"><td class="docs"><div class="pilwrap"><a href="#section-3" class="pilcrow">&#182;</a></div><p>IF it is get the CartItemId from the user document</p>
</td><td class="code"><div class="highlight"><pre>      <span class="nx">opHelper</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">&#39;CartModify&#39;</span><span class="p">,</span> <span class="p">{</span>
        <span class="s1">&#39;CartId&#39;</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">cart</span><span class="p">.</span><span class="nx">CartId</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="s1">&#39;HMAC&#39;</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">cart</span><span class="p">.</span><span class="nx">HMAC</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="s1">&#39;Item.1.CartItemId&#39;</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span><span class="p">[</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">],</span>
        <span class="s1">&#39;Item.1.Quantity&#39;</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Quantity</span><span class="p">,</span>
      <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">_results</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span><span class="p">[</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">],</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">Quantity</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">cart</span> <span class="o">=</span> <span class="nx">results</span><span class="p">.</span><span class="nx">CartModifyResponse</span><span class="p">.</span><span class="nx">Cart</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">;</span>
          <span class="nx">user</span><span class="p">.</span><span class="nx">cart</span> <span class="o">=</span> <span class="nx">cart</span><span class="p">;</span>
          <span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span> <span class="o">=</span> <span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span> <span class="o">||</span> <span class="p">{};</span>
          <span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span><span class="p">[</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span> <span class="o">=</span> <span class="nx">cart</span><span class="p">.</span><span class="nx">CartItems</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">CartItem</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">CartItemId</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
          <span class="nx">user</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">err</span><span class="p">)</span> <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">cart</span><span class="p">));</span>
          <span class="p">});</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">cart</span><span class="p">));</span>
        <span class="p">}</span>
      <span class="p">});</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span></pre></div></td></tr><tr id="section-4"><td class="docs"><div class="pilwrap"><a href="#section-4" class="pilcrow">&#182;</a></div><p>IF NOT then greate it in the cart</p>
</td><td class="code"><div class="highlight"><pre>      <span class="nx">opHelper</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">&#39;CartAdd&#39;</span><span class="p">,</span> <span class="p">{</span>
        <span class="s1">&#39;CartId&#39;</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">cart</span><span class="p">.</span><span class="nx">CartId</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="s1">&#39;HMAC&#39;</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">cart</span><span class="p">.</span><span class="nx">HMAC</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="s1">&#39;Item.1.ASIN&#39;</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
        <span class="s1">&#39;Item.1.Quantity&#39;</span><span class="o">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span>
      <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">_results</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">results</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">cart</span> <span class="o">=</span> <span class="nx">results</span><span class="p">.</span><span class="nx">CartAddResponse</span><span class="p">.</span><span class="nx">Cart</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">;</span>
          <span class="nx">user</span><span class="p">.</span><span class="nx">cart</span> <span class="o">=</span> <span class="nx">cart</span><span class="p">;</span>
          <span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span> <span class="o">=</span> <span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span> <span class="o">||</span> <span class="p">{};</span>
          <span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span><span class="p">[</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span> <span class="o">=</span> <span class="nx">cart</span><span class="p">.</span><span class="nx">CartItems</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">CartItem</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">CartItemId</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
          <span class="nx">user</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">err</span><span class="p">)</span> <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">cart</span><span class="p">));</span>
          <span class="p">});</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">cart</span><span class="p">));</span>
        <span class="p">}</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="s1">&#39;Something went wrong!&#39;</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">clearCart</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">opHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OperationHelper</span><span class="p">({</span>
    <span class="nx">awsId</span><span class="o">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">amazon</span><span class="p">.</span><span class="nx">clientID</span><span class="p">,</span>
    <span class="nx">awsSecret</span><span class="o">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">amazon</span><span class="p">.</span><span class="nx">clientSecret</span><span class="p">,</span>
    <span class="nx">assocId</span><span class="o">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">amazon</span><span class="p">.</span><span class="nx">clientAccount</span>
  <span class="p">});</span>
  <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">cart</span> <span class="o">&amp;&amp;</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">cart</span><span class="p">).</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">opHelper</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">&#39;CartClear&#39;</span><span class="p">,</span> <span class="p">{</span>
      <span class="s1">&#39;CartId&#39;</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">cart</span><span class="p">.</span><span class="nx">CartId</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
      <span class="s1">&#39;HMAC&#39;</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">cart</span><span class="p">.</span><span class="nx">HMAC</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">_results</span> <span class="o">=</span> <span class="p">[];</span>
      <span class="kd">var</span> <span class="nx">cart</span> <span class="o">=</span> <span class="nx">results</span><span class="p">.</span><span class="nx">CartClearResponse</span><span class="p">.</span><span class="nx">Cart</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">user</span><span class="p">;</span>
        <span class="nx">user</span><span class="p">.</span><span class="nx">cart</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="nx">user</span><span class="p">.</span><span class="nx">ASIN2CartItemId</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="nx">user</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">err</span><span class="p">)</span> <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">cart</span><span class="p">));</span>
        <span class="p">});</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">cart</span><span class="p">));</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">getCart</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">opHelper</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OperationHelper</span><span class="p">({</span>
    <span class="nx">awsId</span><span class="o">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">amazon</span><span class="p">.</span><span class="nx">clientID</span><span class="p">,</span>
    <span class="nx">awsSecret</span><span class="o">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">amazon</span><span class="p">.</span><span class="nx">clientSecret</span><span class="p">,</span>
    <span class="nx">assocId</span><span class="o">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">amazon</span><span class="p">.</span><span class="nx">clientAccount</span>
  <span class="p">});</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span>
  <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">();</span>
  <span class="nx">opHelper</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">&#39;CartGet&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="s1">&#39;CartId&#39;</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">CartId</span><span class="p">,</span>
    <span class="s1">&#39;HMAC&#39;</span><span class="o">:</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">HMAC</span><span class="p">,</span>
  <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">_results</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">var</span> <span class="nx">cart</span> <span class="o">=</span> <span class="nx">results</span><span class="p">.</span><span class="nx">CartCreateResponse</span><span class="p">.</span><span class="nx">Cart</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">cart</span><span class="p">));</span>
  <span class="p">});</span>
<span class="p">};</span></pre></div></td></tr><tr id="section-5"><td class="docs"><div class="pilwrap"><a href="#section-5" class="pilcrow">&#182;</a></div><p>{
"time": 4626,
"data": [
{
"id": "B00F3J0GIE",
"price": "$734.99",
"title": "Apple iPhone 5s 16GB (Silver) - Sprint",
"smallImage": "http://ecx.images-amazon.com/images/I/51k0rD7-BzL.<em>SL75</em>.jpg",
"mediumImage": "http://ecx.images-amazon.com/images/I/51k0rD7-BzL.<em>SL160</em>.jpg",
"largeImage": "http://ecx.images-amazon.com/images/I/51k0rD7-BzL.jpg"
},
{
"id": "B0096VDM8G",
"price": "$1,299.00",
"title": "Apple MacBook Pro MGX72LL/A 13.3-Inch Laptop with Retina Display (NEWEST VERSION)",
"smallImage": "http://ecx.images-amazon.com/images/I/410WBREF71L.<em>SL75</em>.jpg",
"mediumImage": "http://ecx.images-amazon.com/images/I/410WBREF71L.<em>SL160</em>.jpg",
"largeImage": "http://ecx.images-amazon.com/images/I/410WBREF71L.jpg"
},
{
"id": "B00746Z6RK",
"price": "$999.00",
"title": "Apple MacBook Air MD760LL/B 13.3-Inch Laptop (NEWEST VERSION)",
"smallImage": "http://ecx.images-amazon.com/images/I/51gy9VdYCeL.<em>SL75</em>.jpg",
"mediumImage": "http://ecx.images-amazon.com/images/I/51gy9VdYCeL.<em>SL160</em>.jpg",
"largeImage": "http://ecx.images-amazon.com/images/I/51gy9VdYCeL.jpg"
},
{
"id": "B0019N889M",
"price": "$850.00",
"title": "Apple MB323LL/A iMac 20-inch 2.4GHz 2GB Intel Core 2 Duo, 1 GB ram, 250 GB SATA hard drive, Aluminum Case (A1224)",
"smallImage": "http://ecx.images-amazon.com/images/I/31mf0r-D45L.<em>SL75</em>.jpg",
"mediumImage": "http://ecx.images-amazon.com/images/I/31mf0r-D45L.<em>SL160</em>.jpg",
"largeImage": "http://ecx.images-amazon.com/images/I/31mf0r-D45L.jpg"
},
{
"id": "B00GARI8BK",
"price": "$99,999.99",
"title": "OtterBox Defender Realtree Series Hybrid Case and Holster for iPhone 5/5S - Retail Packaging",
"smallImage": "http://ecx.images-amazon.com/images/I/313jZphwV-L.<em>SL75</em>.jpg",
"mediumImage": "http://ecx.images-amazon.com/images/I/313jZphwV-L.<em>SL160</em>.jpg",
"largeImage": "http://ecx.images-amazon.com/images/I/313jZphwV-L.jpg"
},
{
"id": "B00Q3NA058",
"price": "$21.99",
"title": "Apple Iphone 5 / 5s / 5c, 6, 6plus Charger with a Car Charger (High Quality)",
"smallImage": "http://ecx.images-amazon.com/images/I/51YMCotHGJL.<em>SL75</em>.jpg",
"mediumImage": "http://ecx.images-amazon.com/images/I/51YMCotHGJL.<em>SL160</em>.jpg",
"largeImage": "http://ecx.images-amazon.com/images/I/51YMCotHGJL.jpg"
},
{
"id": "B00FA4Y7N2",
"price": "$14.99",
"title": "AmazonBasics Apple Certified Lightning to USB Cable - 6 Feet (1.8 Meters) - White",
"smallImage": "http://ecx.images-amazon.com/images/I/31yMYG8kioL.<em>SL75</em>.jpg",
"mediumImage": "http://ecx.images-amazon.com/images/I/31yMYG8kioL.<em>SL160</em>.jpg",
"largeImage": "http://ecx.images-amazon.com/images/I/31yMYG8kioL.jpg"
},
{
"id": "B00QSB3UXE",
"price": "$29.99",
"title": "New Genuine Authentic OEM Apple iPhone 5 5S 5C 6 6+ Plus iPad Air iPad Mini Rapid 1 Amp Travel Home Wall Adapter Charger (Model Number A1365) + Mini Stylus",
"smallImage": "http://ecx.images-amazon.com/images/I/31wi6m2XDHL.<em>SL75</em>.jpg",
"mediumImage": "http://ecx.images-amazon.com/images/I/31wi6m2XDHL.<em>SL160</em>.jpg",
"largeImage": "http://ecx.images-amazon.com/images/I/31wi6m2XDHL.jpg"
},
{
"id": "B00NGHM76O",
"price": "$24.99",
"title": "JOTO iPhone 6 Plus 5.5 Tempered Glass Screen Protector - iPhone 6 Plus 0.33 mm Rounded Edge Tempered Glass Screen Protector Film Guard for Apple iPhone 6 Plus 5.5 inch (1 Pack)",
"smallImage": "http://ecx.images-amazon.com/images/I/51Xgolx%2BQ8L.<em>SL75</em>.jpg",
"mediumImage": "http://ecx.images-amazon.com/images/I/51Xgolx%2BQ8L.<em>SL160</em>.jpg",
"largeImage": "http://ecx.images-amazon.com/images/I/51Xgolx%2BQ8L.jpg"
},
{
"id": "B00O2L4KWC",
"price": "$74.00",
"title": "Ecandy Bluetooth Speaker,6 Hours of Playing Time - Built-in Mic for Hands Free Speakerphone Rechargeable Wireless Speaker,AUX Line in &amp; TF Card Slot,Compatible with Iphone, Ipod , Ipad Mini, Ipad Air 4/3/2, Itouch, Blackberry, Nexus, Samsung, Other Smart Phones, Mp3 Players, and Computers Laptop or Desktop and other Enabled Bluetooth Speakers (Pink)",
"smallImage": "http://ecx.images-amazon.com/images/I/41Gt0Wl-%2BZL.<em>SL75</em>.jpg",
"mediumImage": "http://ecx.images-amazon.com/images/I/41Gt0Wl-%2BZL.<em>SL160</em>.jpg",
"largeImage": "http://ecx.images-amazon.com/images/I/41Gt0Wl-%2BZL.jpg"
},
{
"id": "B00ICCQVIS",
"price": "$36.99",
"title": "Rubies Ever After High Child Apple White Costume",
"smallImage": "http://ecx.images-amazon.com/images/I/41QRKwZ0ffL.<em>SL75</em>.jpg",
"mediumImage": "http://ecx.images-amazon.com/images/I/41QRKwZ0ffL.<em>SL160</em>.jpg",
"largeImage": "http://ecx.images-amazon.com/images/I/41QRKwZ0ffL.jpg"
},
{
"id": "0823416690",
"price": "$7.99",
"title": "Apples",
"smallImage": "http://ecx.images-amazon.com/images/I/51NZNGJ5R7L.<em>SL75</em>.jpg",
"mediumImage": "http://ecx.images-amazon.com/images/I/51NZNGJ5R7L.<em>SL160</em>.jpg",
"largeImage": "http://ecx.images-amazon.com/images/I/51NZNGJ5R7L.jpg"
}
]
}</p>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr></tbody></table><div id="generated">generated Thu Feb 19 2015 15:13:37 GMT-0800 (PST)  </div><div id="projectname"><a href="../../../index.html">thesisApp</a></div></div></body></html>